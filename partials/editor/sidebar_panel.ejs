<aside class="w-80 bg-zinc-900 border-r border-zinc-800 flex flex-col shrink-0 transition-all duration-300"
    id="sidebar-panel">

    <!-- Assets Panel View -->
    <div id="panel-assets" class="flex flex-col flex-1 min-h-0">
        <div class="p-4 border-b border-zinc-800">
            <h2 class="text-sm font-semibold text-white mb-3">Project Assets</h2>
            <button id="btn-upload-media"
                class="w-full bg-zinc-800 hover:bg-zinc-700 text-zinc-200 border border-zinc-700 hover:border-zinc-600 p-3 rounded-lg flex items-center justify-center gap-2 transition-all group">
                <iconify-icon icon="solar:cloud-upload-linear" width="20" height="20"
                    class="group-hover:text-cyan-400 transition-colors"></iconify-icon>
                <span class="text-sm font-medium">Upload Media</span>
            </button>
            <input type="file" id="asset-upload-input" multiple class="hidden" accept="image/*,video/*,audio/*">
            <div class="flex gap-2 mt-3">
                <button
                    class="flex-1 bg-zinc-800/50 hover:bg-zinc-800 p-2 rounded text-xs text-center border border-zinc-800">Video</button>
                <button
                    class="flex-1 bg-zinc-800/50 hover:bg-zinc-800 p-2 rounded text-xs text-center border border-zinc-800">Image</button>
                <button
                    class="flex-1 bg-zinc-800/50 hover:bg-zinc-800 p-2 rounded text-xs text-center border border-zinc-800">Audio</button>
            </div>
        </div>

        <div class="flex-1 overflow-y-auto p-4">
            <div id="library-assets-list" class="grid grid-cols-2 gap-3">
                <!-- Asset items -->
                <div
                    class="asset-card aspect-square bg-zinc-800 rounded-lg border border-zinc-700 overflow-hidden relative group cursor-grab active:cursor-grabbing">
                    <img src="https://images.unsplash.com/photo-1542206395-9feb3edaa68d?auto=format&fit=crop&q=80&w=300"
                        class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity" alt="">
                    <div class="absolute bottom-0 inset-x-0 bg-black/60 p-1.5">
                        <p class="text-[10px] text-white truncate">forest_intro.mp4</p>
                    </div>
                </div>
                <!-- ... other assets ... -->
            </div>
        </div>
    </div>

    <!-- Scene Breakdown Prompt Panel View -->
    <div id="panel-prompt" class="flex flex-col flex-1 min-h-0 hidden">
        <div class="p-4 border-b border-zinc-800">
            <h2 class="text-sm font-semibold text-white mb-1">Scene Breakdown</h2>
            <p class="text-xs text-zinc-500">Configure how the AI breaks down your script.</p>
        </div>
        <div class="flex-1 p-4 flex flex-col gap-4">
            <div class="flex-1 flex flex-col">
                <label class="text-xs font-medium text-zinc-400 mb-2">System Prompt Instructions</label>
                <textarea
                    class="w-full h-[70%] bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-sm text-zinc-300 focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/50 resize-none font-mono leading-relaxed"
                    placeholder="Enter system instructions here...">
You are an expert cinematographer and screenwriter. 

Break down the provided story into a shot list. 
Focus on:
- Visual storytelling
- Camera angles (Wide, Medium, Close-up)
- Lighting mood
- Character emotions

Output format should be JSON.</textarea>
                <p class="text-[10px] text-zinc-600 mt-2 text-right">0 / 2000 tokens</p>
            </div>

            <button
                class="w-full bg-cyan-500/10 hover:bg-cyan-500/20 text-cyan-400 border border-cyan-500/20 p-2.5 rounded-lg text-sm font-medium transition-colors">
                Save System Prompt
            </button>
        </div>
    </div>

    <!-- API Settings Panel View -->
    <div id="panel-api" class="flex flex-col flex-1 min-h-0 hidden">
        <div class="p-4 border-b border-zinc-800">
            <h2 class="text-sm font-semibold text-white mb-1">API Settings</h2>
            <p class="text-xs text-zinc-500">Configure your Google AI API key for generation.</p>
        </div>
        <div class="flex-1 p-4 flex flex-col gap-4">
            <div class="flex flex-col gap-2">
                <label for="input-google-api-key" class="text-xs font-medium text-zinc-400">Google AI API Key</label>
                <div class="relative">
                    <input type="password" id="input-google-api-key"
                        class="w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 pr-10 text-sm text-zinc-300 focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/50 font-mono"
                        placeholder="Enter your Google AI API key...">
                    <button type="button" id="btn-toggle-api-visibility"
                        class="absolute right-2 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300 transition-colors p-1">
                        <iconify-icon icon="solar:eye-linear" width="18" height="18" id="icon-eye-show"></iconify-icon>
                        <iconify-icon icon="solar:eye-closed-linear" width="18" height="18" id="icon-eye-hide" class="hidden"></iconify-icon>
                    </button>
                </div>
                <p class="text-[10px] text-zinc-600">Your API key is stored securely in the database.</p>
            </div>

            <div class="bg-zinc-800/50 rounded-lg p-3 border border-zinc-800">
                <div class="flex items-center gap-2 mb-2">
                    <iconify-icon icon="solar:info-circle-linear" width="16" height="16" class="text-cyan-400"></iconify-icon>
                    <span class="text-xs font-medium text-zinc-300">How to get your API key</span>
                </div>
                <ol class="text-[11px] text-zinc-500 space-y-1 ml-5 list-decimal">
                    <li>Go to <a href="https://aistudio.google.com/apikey" target="_blank" class="text-cyan-400 hover:underline">Google AI Studio</a></li>
                    <li>Sign in with your Google account</li>
                    <li>Click "Create API Key"</li>
                    <li>Copy and paste it here</li>
                </ol>
            </div>

            <div id="api-status" class="hidden">
                <div class="flex items-center gap-2 p-2 rounded-lg text-xs">
                    <iconify-icon id="api-status-icon" width="16" height="16"></iconify-icon>
                    <span id="api-status-text"></span>
                </div>
            </div>

            <button type="button" id="btn-save-api-key"
                class="w-full bg-cyan-500/10 hover:bg-cyan-500/20 text-cyan-400 border border-cyan-500/20 p-2.5 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2">
                <iconify-icon icon="solar:diskette-linear" width="18" height="18"></iconify-icon>
                Save API Key
            </button>
        </div>
    </div>

    <!-- Save project (left panel footer) -->
    <div class="p-4 border-t border-zinc-800 shrink-0 bg-zinc-900">
        <button type="button" id="btn-save-project"
            class="w-full bg-cyan-500 hover:bg-cyan-400 text-black py-2.5 px-3 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors shadow-lg shadow-cyan-900/20">
            <iconify-icon icon="solar:diskette-linear" width="18" height="18"></iconify-icon>
            Save project
        </button>
    </div>

</aside>